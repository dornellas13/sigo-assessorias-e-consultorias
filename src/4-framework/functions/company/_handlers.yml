createCompany:
    handler: ${self:custom.functionsDirectory}/company/create.handler
    environment:
      COMPANY_CREATED_SNS: arn:aws:sns:#{AWS::Region}:#{AWS::AccountId}:${self:custom.company.sns.name} 
      STANDARD_BASE_URL: 'https://qnulpzed1a.execute-api.us-east-2.amazonaws.com/dev/api'
    events:
      - http:
          path: api/company
          method: POST
          cors: true  
          authorizer:
            type: COGNITO_USER_POOLS 
            arn: arn:aws:cognito-idp:#{AWS::Region}:#{AWS::AccountId}:userpool/${self:custom.cognito.userPoolId}
            resultTtlInSeconds: 0
            identitySource: method.request.header.Authorization
            identityValidationExpression: .*
            name: Cognito

getAllCompany:
    handler: ${self:custom.functionsDirectory}/company/getAll.handler
    events:
      - http:
          path: api/company
          method: GET
          cors: true  
          authorizer:
            type: COGNITO_USER_POOLS 
            arn: arn:aws:cognito-idp:#{AWS::Region}:#{AWS::AccountId}:userpool/${self:custom.cognito.userPoolId}
            resultTtlInSeconds: 0
            identitySource: method.request.header.Authorization
            identityValidationExpression: .*
            name: Cognito

sendCompanyEmail: 
    timeout: 60
    handler: ${self:custom.functionsDirectory}/company/sendEmail.handler
    events:
     - sqs:       
        arn: arn:aws:sqs:#{AWS::Region}:#{AWS::AccountId}:EmailQueue
        batchSize: 1